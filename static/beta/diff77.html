<!DOCTYPE html>
<html lang="en-us">

<head>
    <link href="https://cdn.jsdelivr.net/npm/monaco-editor@0.46.0/min/vs/editor/editor.main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.46.0/min/vs/loader.js"></script>
    <style>
        html, body {
            margin: 0;
            height: 100%;
            width: 100%;
        }

        .row {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .column {
            width: 100%;
            height: 100%;
        }

        .updated {
            background-color: #FFF59D;
        }

        .added {
            background-color: #A5D6A7;
        }

        .deleted {
            background-color: #EF9A9A;
        }

        .moved_updated, .moved_unchanged {
            background-color: #CE93D8;
        }

        .none {
            background-color: #64B5F6;
        }

        .selected {
            color: #2196F3 !important;
        }


    </style>
    <title>CiDiff</title>
</head>

<body>
<div class='row'>
    <div class='column' id='right'>
    </div>
</div>
<script>
    const ciDiff = {
        left: [
                "Requested labels: ubuntu-latest",
                "Job defined at: RustCrypto/utils/.github/workflows/block-buffer.yml@refs/heads/master",
                "Waiting for a runner to pick up this job...",
                "Job is waiting for a hosted runner to come online.",
                "Job is about to start running on the hosted runner: GitHub Actions 19 (hosted)",
                "Current runner version: '2.308.0'",
                "##[group]Operating System",
                "Ubuntu",
                "22.04.3",
                "LTS",
                "##[endgroup]",
                "##[group]Runner Image",
                "Image: ubuntu-22.04",
                "Version: 20230903.1.0",
                "Included Software: https://github.com/actions/runner-images/blob/ubuntu22/20230903.1/images/linux/Ubuntu2204-Readme.md",
                "Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu22%2F20230903.1",
                "##[endgroup]",
                "##[group]Runner Image Provisioner",
                "2.0.299.1",
                "##[endgroup]",
                "##[group]GITHUB_TOKEN Permissions",
                "Contents: read",
                "Metadata: read",
                "##[endgroup]",
                "Secret source: Actions",
                "Prepare workflow directory",
                "Prepare all required actions",
                "Getting action download info",
                "Download action repository 'actions/checkout@v4' (SHA:3df4ab11eba7bda6032a0b82a6bb43b11571feac)",
                "Download action repository 'RustCrypto/actions@master' (SHA:968b58b7da1205d015a21a89bdb5bdca9962ac3f)",
                "Download action repository 'dtolnay/rust-toolchain@master' (SHA:5cb429dd810e16ff67df78472fa81cf760f4d1c0)",
                "Getting action download info",
                "Download action repository 'actions/cache@v3' (SHA:704facf57e6136b1bc63b828d79edcd491f0ee84)",
                "Complete job name: test (stable)",
                "##[group]Run actions/checkout@v4",
                "with:",
                "  repository: RustCrypto/utils",
                "  token: ***",
                "  ssh-strict: true",
                "  persist-credentials: true",
                "  clean: true",
                "  sparse-checkout-cone-mode: true",
                "  fetch-depth: 1",
                "  fetch-tags: false",
                "  show-progress: true",
                "  lfs: false",
                "  submodules: false",
                "  set-safe-directory: true",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "Syncing repository: RustCrypto/utils",
                "##[group]Getting Git version info",
                "Working directory is '/home/runner/work/utils/utils'",
                "[command]/usr/bin/git version",
                "git version 2.42.0",
                "##[endgroup]",
                "Temporarily overriding HOME='/home/runner/work/_temp/0006c2a7-1683-4524-928c-5204ed052ba7' before making global git config changes",
                "Adding repository directory to the temporary git global config as a safe directory",
                "[command]/usr/bin/git config --global --add safe.directory /home/runner/work/utils/utils",
                "Deleting the contents of '/home/runner/work/utils/utils'",
                "##[group]Initializing the repository",
                "[command]/usr/bin/git init /home/runner/work/utils/utils",
                "hint: Using 'master' as the name for the initial branch. This default branch name",
                "hint: is subject to change. To configure the initial branch name to use in all",
                "hint: of your new repositories, which will suppress this warning, call:",
                "hint: ",
                "hint: 	git config --global init.defaultBranch <name>",
                "hint: ",
                "hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and",
                "hint: 'development'. The just-created branch can be renamed via this command:",
                "hint: ",
                "hint: 	git branch -m <name>",
                "Initialized empty Git repository in /home/runner/work/utils/utils/.git/",
                "[command]/usr/bin/git remote add origin https://github.com/RustCrypto/utils",
                "##[endgroup]",
                "##[group]Disabling automatic garbage collection",
                "[command]/usr/bin/git config --local gc.auto 0",
                "##[endgroup]",
                "##[group]Setting up auth",
                "[command]/usr/bin/git config --local --name-only --get-regexp core\\.sshCommand",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'core\\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\"",
                "[command]/usr/bin/git config --local --name-only --get-regexp http\\.https\\:\\/\\/github\\.com\\/\\.extraheader",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'http\\.https\\:\\/\\/github\\.com\\/\\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\"",
                "[command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***",
                "##[endgroup]",
                "##[group]Fetching the repository",
                "[command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +1dcf52ec901c01f24dc5c6d4b3df06cf773b6438:refs/remotes/origin/master",
                "From https://github.com/RustCrypto/utils",
                " * [new ref]         1dcf52ec901c01f24dc5c6d4b3df06cf773b6438 -> origin/master",
                "##[endgroup]",
                "##[group]Determining the checkout info",
                "##[endgroup]",
                "##[group]Checking out the ref",
                "[command]/usr/bin/git checkout --progress --force -B master refs/remotes/origin/master",
                "Reset branch 'master'",
                "branch 'master' set up to track 'origin/master'.",
                "##[endgroup]",
                "[command]/usr/bin/git log -1 --format='%H'",
                "'1dcf52ec901c01f24dc5c6d4b3df06cf773b6438'",
                "##[group]Run RustCrypto/actions/cargo-cache@master",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run actions/cache@v3",
                "with:",
                "  path: ~/.cargo/registry/index/",
                "~/.cargo/registry/cache/",
                "  key: cargo",
                "  enableCrossOsArchive: false",
                "  fail-on-cache-miss: false",
                "  lookup-only: false",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "Cache Size: ~0 MB (149631 B)",
                "[command]/usr/bin/tar -xf /home/runner/work/_temp/e05e339b-d013-4cc7-aafa-c460ee1a3486/cache.tzst -P -C /home/runner/work/utils/utils --use-compress-program unzstd",
                "Cache restored successfully",
                "Cache restored from key: cargo",
                "##[group]Run dtolnay/rust-toolchain@master",
                "with:",
                "  toolchain: stable",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : parse toolchain version",
                ": parse toolchain version",
                "if [[ $toolchain =~ ^stable' '[0-9]+' '(year|month|week|day)s?' 'ago$ ]]; then",
                "  if [[ Linux == macOS ]]; then",
                "    echo \"toolchain=1.$((($(date -v-$(sed 's/stable \\([0-9]*\\) \\(.\\).*/\\1\\2/' <<< $toolchain) +%s)/60/60/24-16569)/7/6))\" >> $GITHUB_OUTPUT",
                "  else",
                "    echo \"toolchain=1.$((($(date --date \"${toolchain#stable }\" +%s)/60/60/24-16569)/7/6))\" >> $GITHUB_OUTPUT",
                "  fi",
                "elif [[ $toolchain =~ ^stable' 'minus' '[0-9]+' 'releases?$ ]]; then",
                "  echo \"toolchain=1.$((($(date +%s)/60/60/24-16569)/7/6-${toolchain//[^0-9]/}))\" >> $GITHUB_OUTPUT",
                "else",
                "  echo \"toolchain=$toolchain\" >> $GITHUB_OUTPUT",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  toolchain: stable",
                "##[endgroup]",
                "##[group]Run : construct rustup command line",
                ": construct rustup command line",
                "echo \"targets=$(for t in ${targets//,/ }; do echo -n ' --target' $t; done)\" >> $GITHUB_OUTPUT",
                "echo \"components=$(for c in ${components//,/ }; do echo -n ' --component' $c; done)\" >> $GITHUB_OUTPUT",
                "echo \"downgrade=\" >> $GITHUB_OUTPUT",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  targets: ",
                "  components: ",
                "##[endgroup]",
                "##[group]Run : install rustup if needed",
                ": install rustup if needed",
                "if ! command -v rustup &>/dev/null; then",
                "  curl --proto '=https' --tlsv1.2 --retry 10 --retry-connrefused --location --silent --show-error --fail \"https://sh.rustup.rs\" | sh -s -- --default-toolchain none -y",
                "  echo \"${CARGO_HOME:-$HOME/.cargo}/bin\" >> $GITHUB_PATH",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run rustup toolchain install stable --profile minimal --no-self-update",
                "rustup toolchain install stable --profile minimal --no-self-update",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "info: syncing channel updates for 'stable-x86_64-unknown-linux-gnu'",
                "  stable-x86_64-unknown-linux-gnu unchanged - rustc 1.72.0 (5680fa18f 2023-08-23)",
                "##[group]Run rustup default stable",
                "rustup default stable",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "info: using existing install for 'stable-x86_64-unknown-linux-gnu'",
                "info: default toolchain set to 'stable-x86_64-unknown-linux-gnu'",
                "  stable-x86_64-unknown-linux-gnu unchanged - rustc 1.72.0 (5680fa18f 2023-08-23)",
                "##[group]Run : create cachekey",
                ": create cachekey",
                "DATE=$(rustc +stable --version --verbose | sed -ne 's/^commit-date: \\(20[0-9][0-9]\\)-\\([01][0-9]\\)-\\([0-3][0-9]\\)$/\\1\\2\\3/p')",
                "HASH=$(rustc +stable --version --verbose | sed -ne 's/^commit-hash: //p')",
                "echo \"cachekey=$(echo $DATE$HASH | head -c12)\" >> $GITHUB_OUTPUT",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : disable incremental compilation",
                ": disable incremental compilation",
                "if [ -z \"${CARGO_INCREMENTAL+set}\" ]; then",
                "  echo CARGO_INCREMENTAL=0 >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : enable colors in Cargo output",
                ": enable colors in Cargo output",
                "if [ -z \"${CARGO_TERM_COLOR+set}\" ]; then",
                "  echo CARGO_TERM_COLOR=always >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : enable Cargo sparse registry",
                ": enable Cargo sparse registry",
                "# implemented in 1.66, stabilized in 1.68, made default in 1.70",
                "if [ -z \"${CARGO_REGISTRIES_CRATES_IO_PROTOCOL+set}\" -o -f \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol ]; then",
                "  if rustc +stable --version --verbose | grep -q '^release: 1\\.6[89]\\.'; then",
                "    touch \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol || true",
                "    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=sparse >> $GITHUB_ENV",
                "  elif rustc +stable --version --verbose | grep -q '^release: 1\\.6[67]\\.'; then",
                "    touch \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol || true",
                "    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=git >> $GITHUB_ENV",
                "  fi",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run : work around spurious network errors in curl 8.0",
                ": work around spurious network errors in curl 8.0",
                "# https://rust-lang.zulipchat.com/#narrow/stream/246057-t-cargo/topic/timeout.20investigation",
                "if rustc +stable --version --verbose | grep -q '^release: 1\\.7[01]\\.'; then",
                "  echo CARGO_HTTP_MULTIPLEXING=false >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run rustc +stable --version --verbose",
                "rustc +stable --version --verbose",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "rustc 1.72.0 (5680fa18f 2023-08-23)",
                "binary: rustc",
                "commit-hash: 5680fa18feaa87f3ff04063800aec256c3d4b4be",
                "commit-date: 2023-08-23",
                "host: x86_64-unknown-linux-gnu",
                "release: 1.72.0",
                "LLVM version: 16.0.5",
                "##[group]Run rm ../Cargo.toml",
                "rm ../Cargo.toml",
                "shell: /usr/bin/bash -e {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run cargo test",
                "cargo test",
                "shell: /usr/bin/bash -e {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "    Updating crates.io index",
                " Downloading crates ...",
                "  Downloaded hex-literal v0.3.4",
                "  Downloaded crypto-common v0.2.0-pre",
                "   Compiling version_check v0.9.4",
                "   Compiling typenum v1.16.0",
                "   Compiling generic-array v0.14.7",
                "   Compiling hex-literal v0.3.4",
                "   Compiling crypto-common v0.2.0-pre",
                "   Compiling block-buffer v0.11.0-pre (/home/runner/work/utils/utils/block-buffer)",
                "    Finished test [unoptimized + debuginfo] target(s) in 8.87s",
                "     Running unittests src/lib.rs (target/debug/deps/block_buffer-37f19388551cec59)",
                "running 0 tests",
                "test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s",
                "     Running tests/mod.rs (target/debug/deps/mod-96561c3df555632f)",
                "running 8 tests",
                "test test_eager_paddings ... ok",
                "test test_eager_serialize ... ok",
                "test test_lazy_digest_pad ... ok",
                "test test_lazy_serialize ... ok",
                "test test_read ... ok",
                "test test_read_serialize ... ok",
                "test test_try_new ... ok",
                "test test_eager_digest_pad ... ok",
                "test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s",
                "   Doc-tests block-buffer",
                "running 0 tests",
                "test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s",
                "##[group]Run cargo test --all-features",
                "cargo test --all-features",
                "shell: /usr/bin/bash -e {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "    Finished test [unoptimized + debuginfo] target(s) in 0.01s",
                "     Running unittests src/lib.rs (target/debug/deps/block_buffer-37f19388551cec59)",
                "running 0 tests",
                "test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s",
                "     Running tests/mod.rs (target/debug/deps/mod-96561c3df555632f)",
                "running 8 tests",
                "test test_eager_digest_pad ... ok",
                "test test_eager_paddings ... ok",
                "test test_lazy_digest_pad ... ok",
                "test test_eager_serialize ... ok",
                "test test_read ... ok",
                "test test_lazy_serialize ... ok",
                "test test_read_serialize ... ok",
                "test test_try_new ... ok",
                "   Doc-tests block-buffer",
                "test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s",
                "running 0 tests",
                "test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s",
                "Post job cleanup.",
                "Post job cleanup.",
                "Cache hit occurred on the primary key cargo, not saving cache.",
                "Post job cleanup.",
                "[command]/usr/bin/git version",
                "git version 2.42.0",
                "Temporarily overriding HOME='/home/runner/work/_temp/b55e6830-d94a-4419-832a-471fc50cde00' before making global git config changes",
                "Adding repository directory to the temporary git global config as a safe directory",
                "[command]/usr/bin/git config --global --add safe.directory /home/runner/work/utils/utils",
                "[command]/usr/bin/git config --local --name-only --get-regexp core\\.sshCommand",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'core\\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\"",
                "[command]/usr/bin/git config --local --name-only --get-regexp http\\.https\\:\\/\\/github\\.com\\/\\.extraheader",
                "http.https://github.com/.extraheader",
                "[command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'http\\.https\\:\\/\\/github\\.com\\/\\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\"",
                "Cleaning up orphan processes",

        ],
        right: [
                "Requested labels: ubuntu-latest",
                "Job defined at: RustCrypto/utils/.github/workflows/block-buffer.yml@refs/pull/950/merge",
                "Waiting for a runner to pick up this job...",
                "Job is waiting for a hosted runner to come online.",
                "Job is about to start running on the hosted runner: GitHub Actions 18 (hosted)",
                "Current runner version: '2.309.0'",
                "##[group]Operating System",
                "Ubuntu",
                "22.04.3",
                "LTS",
                "##[endgroup]",
                "##[group]Runner Image",
                "Image: ubuntu-22.04",
                "Version: 20230903.1.0",
                "Included Software: https://github.com/actions/runner-images/blob/ubuntu22/20230903.1/images/linux/Ubuntu2204-Readme.md",
                "Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu22%2F20230903.1",
                "##[endgroup]",
                "##[group]Runner Image Provisioner",
                "2.0.299.1",
                "##[endgroup]",
                "##[group]GITHUB_TOKEN Permissions",
                "Contents: read",
                "Metadata: read",
                "##[endgroup]",
                "Secret source: Dependabot",
                "Prepare workflow directory",
                "Prepare all required actions",
                "Getting action download info",
                "Download action repository 'actions/checkout@v4' (SHA:3df4ab11eba7bda6032a0b82a6bb43b11571feac)",
                "Download action repository 'RustCrypto/actions@master' (SHA:968b58b7da1205d015a21a89bdb5bdca9962ac3f)",
                "Download action repository 'dtolnay/rust-toolchain@master' (SHA:5cb429dd810e16ff67df78472fa81cf760f4d1c0)",
                "Getting action download info",
                "Download action repository 'actions/cache@v3' (SHA:704facf57e6136b1bc63b828d79edcd491f0ee84)",
                "Complete job name: test (stable)",
                "##[group]Run actions/checkout@v4",
                "with:",
                "  repository: RustCrypto/utils",
                "  token: ***",
                "  ssh-strict: true",
                "  persist-credentials: true",
                "  clean: true",
                "  sparse-checkout-cone-mode: true",
                "  fetch-depth: 1",
                "  fetch-tags: false",
                "  show-progress: true",
                "  lfs: false",
                "  submodules: false",
                "  set-safe-directory: true",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "Syncing repository: RustCrypto/utils",
                "##[group]Getting Git version info",
                "Working directory is '/home/runner/work/utils/utils'",
                "[command]/usr/bin/git version",
                "git version 2.42.0",
                "##[endgroup]",
                "Temporarily overriding HOME='/home/runner/work/_temp/cbccebd6-f739-467e-97b8-524961e825a1' before making global git config changes",
                "Adding repository directory to the temporary git global config as a safe directory",
                "[command]/usr/bin/git config --global --add safe.directory /home/runner/work/utils/utils",
                "Deleting the contents of '/home/runner/work/utils/utils'",
                "##[group]Initializing the repository",
                "[command]/usr/bin/git init /home/runner/work/utils/utils",
                "hint: Using 'master' as the name for the initial branch. This default branch name",
                "hint: is subject to change. To configure the initial branch name to use in all",
                "hint: of your new repositories, which will suppress this warning, call:",
                "hint: ",
                "hint: 	git config --global init.defaultBranch <name>",
                "hint: ",
                "hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and",
                "hint: 'development'. The just-created branch can be renamed via this command:",
                "hint: ",
                "hint: 	git branch -m <name>",
                "Initialized empty Git repository in /home/runner/work/utils/utils/.git/",
                "[command]/usr/bin/git remote add origin https://github.com/RustCrypto/utils",
                "##[endgroup]",
                "##[group]Disabling automatic garbage collection",
                "[command]/usr/bin/git config --local gc.auto 0",
                "##[endgroup]",
                "##[group]Setting up auth",
                "[command]/usr/bin/git config --local --name-only --get-regexp core\\.sshCommand",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'core\\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\"",
                "[command]/usr/bin/git config --local --name-only --get-regexp http\\.https\\:\\/\\/github\\.com\\/\\.extraheader",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'http\\.https\\:\\/\\/github\\.com\\/\\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\"",
                "[command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***",
                "##[endgroup]",
                "##[group]Fetching the repository",
                "[command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +59c7b4c314f69b420c54e6d35db81884e13ffa83:refs/remotes/pull/950/merge",
                "From https://github.com/RustCrypto/utils",
                " * [new ref]         59c7b4c314f69b420c54e6d35db81884e13ffa83 -> pull/950/merge",
                "##[endgroup]",
                "##[group]Determining the checkout info",
                "##[endgroup]",
                "##[group]Checking out the ref",
                "[command]/usr/bin/git checkout --progress --force refs/remotes/pull/950/merge",
                "Note: switching to 'refs/remotes/pull/950/merge'.",
                "You are in 'detached HEAD' state. You can look around, make experimental",
                "changes and commit them, and you can discard any commits you make in this",
                "state without impacting any branches by switching back to a branch.",
                "If you want to create a new branch to retain commits you create, you may",
                "do so (now or later) by using -c with the switch command. Example:",
                "  git switch -c <new-branch-name>",
                "Or undo this operation with:",
                "  git switch -",
                "Turn off this advice by setting config variable advice.detachedHead to false",
                "HEAD is now at 59c7b4c Merge 134809434b2ab7c6ec9115e09ed1eae3c69f1e3e into 1dcf52ec901c01f24dc5c6d4b3df06cf773b6438",
                "##[endgroup]",
                "[command]/usr/bin/git log -1 --format='%H'",
                "'59c7b4c314f69b420c54e6d35db81884e13ffa83'",
                "##[group]Run RustCrypto/actions/cargo-cache@master",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run actions/cache@v3",
                "with:",
                "  path: ~/.cargo/registry/index/",
                "~/.cargo/registry/cache/",
                "  key: cargo",
                "  enableCrossOsArchive: false",
                "  fail-on-cache-miss: false",
                "  lookup-only: false",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "Cache Size: ~0 MB (149631 B)",
                "[command]/usr/bin/tar -xf /home/runner/work/_temp/9c73ec34-6b8f-476a-ad89-26b8774ec599/cache.tzst -P -C /home/runner/work/utils/utils --use-compress-program unzstd",
                "Cache restored successfully",
                "Cache restored from key: cargo",
                "##[group]Run dtolnay/rust-toolchain@master",
                "with:",
                "  toolchain: stable",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : parse toolchain version",
                ": parse toolchain version",
                "if [[ $toolchain =~ ^stable' '[0-9]+' '(year|month|week|day)s?' 'ago$ ]]; then",
                "  if [[ Linux == macOS ]]; then",
                "    echo \"toolchain=1.$((($(date -v-$(sed 's/stable \\([0-9]*\\) \\(.\\).*/\\1\\2/' <<< $toolchain) +%s)/60/60/24-16569)/7/6))\" >> $GITHUB_OUTPUT",
                "  else",
                "    echo \"toolchain=1.$((($(date --date \"${toolchain#stable }\" +%s)/60/60/24-16569)/7/6))\" >> $GITHUB_OUTPUT",
                "  fi",
                "elif [[ $toolchain =~ ^stable' 'minus' '[0-9]+' 'releases?$ ]]; then",
                "  echo \"toolchain=1.$((($(date +%s)/60/60/24-16569)/7/6-${toolchain//[^0-9]/}))\" >> $GITHUB_OUTPUT",
                "else",
                "  echo \"toolchain=$toolchain\" >> $GITHUB_OUTPUT",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  toolchain: stable",
                "##[endgroup]",
                "##[group]Run : construct rustup command line",
                ": construct rustup command line",
                "echo \"targets=$(for t in ${targets//,/ }; do echo -n ' --target' $t; done)\" >> $GITHUB_OUTPUT",
                "echo \"components=$(for c in ${components//,/ }; do echo -n ' --component' $c; done)\" >> $GITHUB_OUTPUT",
                "echo \"downgrade=\" >> $GITHUB_OUTPUT",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  targets: ",
                "  components: ",
                "##[endgroup]",
                "##[group]Run : install rustup if needed",
                ": install rustup if needed",
                "if ! command -v rustup &>/dev/null; then",
                "  curl --proto '=https' --tlsv1.2 --retry 10 --retry-connrefused --location --silent --show-error --fail \"https://sh.rustup.rs\" | sh -s -- --default-toolchain none -y",
                "  echo \"${CARGO_HOME:-$HOME/.cargo}/bin\" >> $GITHUB_PATH",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run rustup toolchain install stable --profile minimal --no-self-update",
                "rustup toolchain install stable --profile minimal --no-self-update",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "info: syncing channel updates for 'stable-x86_64-unknown-linux-gnu'",
                "  stable-x86_64-unknown-linux-gnu unchanged - rustc 1.72.0 (5680fa18f 2023-08-23)",
                "##[group]Run rustup default stable",
                "rustup default stable",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "info: using existing install for 'stable-x86_64-unknown-linux-gnu'",
                "info: default toolchain set to 'stable-x86_64-unknown-linux-gnu'",
                "  stable-x86_64-unknown-linux-gnu unchanged - rustc 1.72.0 (5680fa18f 2023-08-23)",
                "##[group]Run : create cachekey",
                ": create cachekey",
                "DATE=$(rustc +stable --version --verbose | sed -ne 's/^commit-date: \\(20[0-9][0-9]\\)-\\([01][0-9]\\)-\\([0-3][0-9]\\)$/\\1\\2\\3/p')",
                "HASH=$(rustc +stable --version --verbose | sed -ne 's/^commit-hash: //p')",
                "echo \"cachekey=$(echo $DATE$HASH | head -c12)\" >> $GITHUB_OUTPUT",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : disable incremental compilation",
                ": disable incremental compilation",
                "if [ -z \"${CARGO_INCREMENTAL+set}\" ]; then",
                "  echo CARGO_INCREMENTAL=0 >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : enable colors in Cargo output",
                ": enable colors in Cargo output",
                "if [ -z \"${CARGO_TERM_COLOR+set}\" ]; then",
                "  echo CARGO_TERM_COLOR=always >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "##[endgroup]",
                "##[group]Run : enable Cargo sparse registry",
                ": enable Cargo sparse registry",
                "# implemented in 1.66, stabilized in 1.68, made default in 1.70",
                "if [ -z \"${CARGO_REGISTRIES_CRATES_IO_PROTOCOL+set}\" -o -f \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol ]; then",
                "  if rustc +stable --version --verbose | grep -q '^release: 1\\.6[89]\\.'; then",
                "    touch \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol || true",
                "    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=sparse >> $GITHUB_ENV",
                "  elif rustc +stable --version --verbose | grep -q '^release: 1\\.6[67]\\.'; then",
                "    touch \"/home/runner/work/_temp\"/.implicit_cargo_registries_crates_io_protocol || true",
                "    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=git >> $GITHUB_ENV",
                "  fi",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run : work around spurious network errors in curl 8.0",
                ": work around spurious network errors in curl 8.0",
                "# https://rust-lang.zulipchat.com/#narrow/stream/246057-t-cargo/topic/timeout.20investigation",
                "if rustc +stable --version --verbose | grep -q '^release: 1\\.7[01]\\.'; then",
                "  echo CARGO_HTTP_MULTIPLEXING=false >> $GITHUB_ENV",
                "fi",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run rustc +stable --version --verbose",
                "rustc +stable --version --verbose",
                "shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "rustc 1.72.0 (5680fa18f 2023-08-23)",
                "binary: rustc",
                "commit-hash: 5680fa18feaa87f3ff04063800aec256c3d4b4be",
                "commit-date: 2023-08-23",
                "host: x86_64-unknown-linux-gnu",
                "release: 1.72.0",
                "LLVM version: 16.0.5",
                "##[group]Run rm ../Cargo.toml",
                "rm ../Cargo.toml",
                "shell: /usr/bin/bash -e {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "##[group]Run cargo test",
                "cargo test",
                "shell: /usr/bin/bash -e {0}",
                "env:",
                "  CARGO_INCREMENTAL: 0",
                "  RUSTFLAGS: -Dwarnings",
                "  CARGO_TERM_COLOR: always",
                "##[endgroup]",
                "    Updating crates.io index",
                " Downloading crates ...",
                "  Downloaded generic-array v1.0.0",
                "  Downloaded hex-literal v0.3.4",
                "  Downloaded crypto-common v0.2.0-pre",
                "   Compiling typenum v1.16.0",
                "   Compiling version_check v0.9.4",
                "   Compiling generic-array v0.14.7",
                "   Compiling hex-literal v0.3.4",
                "   Compiling generic-array v1.0.0",
                "   Compiling crypto-common v0.2.0-pre",
                "   Compiling block-buffer v0.11.0-pre (/home/runner/work/utils/utils/block-buffer)",
                "error[E0107]: trait takes 0 generic arguments but 1 generic argument was supplied",
                "   --> src/lib.rs:307:19",
                "    |",
                "307 |         Add1<BS>: ArrayLength<u8>,",
                "    |                   ^^^^^^^^^^^ expected 0 generic arguments",
                "    |",
                "note: trait defined here, with 0 generic parameters",
                "   --> /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/generic-array-1.0.0/src/lib.rs:177:18",
                "    |",
                "177 | pub unsafe trait ArrayLength: Unsigned + 'static {",
                "    |                  ^^^^^^^^^^^",
                "help: replace the generic bound with the associated type",
                "    |",
                "307 |         Add1<BS>: ArrayLength<ArrayType = u8>,",
                "    |                               +++++++++++",
                "error[E0107]: trait takes 0 generic arguments but 1 generic argument was supplied",
                "   --> src/lib.rs:321:19",
                "    |",
                "321 |         Add1<BS>: ArrayLength<u8>,",
                "    |                   ^^^^^^^^^^^ expected 0 generic arguments",
                "    |",
                "note: trait defined here, with 0 generic parameters",
                "   --> /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/generic-array-1.0.0/src/lib.rs:177:18",
                "    |",
                "177 | pub unsafe trait ArrayLength: Unsigned + 'static {",
                "    |                  ^^^^^^^^^^^",
                "help: replace the generic bound with the associated type",
                "    |",
                "321 |         Add1<BS>: ArrayLength<ArrayType = u8>,",
                "    |                               +++++++++++",
                "error[E0107]: trait takes 0 generic arguments but 1 generic argument was supplied",
                "   --> src/sealed.rs:17:24",
                "    |",
                "17  |     fn split_blocks<N: ArrayLength<u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]);",
                "    |                        ^^^^^^^^^^^ expected 0 generic arguments",
                "    |",
                "note: trait defined here, with 0 generic parameters",
                "   --> /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/generic-array-1.0.0/src/lib.rs:177:18",
                "    |",
                "177 | pub unsafe trait ArrayLength: Unsigned + 'static {",
                "    |                  ^^^^^^^^^^^",
                "help: replace the generic bound with the associated type",
                "    |",
                "17  |     fn split_blocks<N: ArrayLength<ArrayType = u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]);",
                "    |                                    +++++++++++",
                "error[E0107]: trait takes 0 generic arguments but 1 generic argument was supplied",
                "   --> src/sealed.rs:38:24",
                "    |",
                "38  |     fn split_blocks<N: ArrayLength<u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]) {",
                "    |                        ^^^^^^^^^^^ expected 0 generic arguments",
                "    |",
                "note: trait defined here, with 0 generic parameters",
                "   --> /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/generic-array-1.0.0/src/lib.rs:177:18",
                "    |",
                "177 | pub unsafe trait ArrayLength: Unsigned + 'static {",
                "    |                  ^^^^^^^^^^^",
                "help: replace the generic bound with the associated type",
                "    |",
                "38  |     fn split_blocks<N: ArrayLength<ArrayType = u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]) {",
                "    |                                    +++++++++++",
                "error[E0107]: trait takes 0 generic arguments but 1 generic argument was supplied",
                "   --> src/sealed.rs:73:24",
                "    |",
                "73  |     fn split_blocks<N: ArrayLength<u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]) {",
                "    |                        ^^^^^^^^^^^ expected 0 generic arguments",
                "    |",
                "note: trait defined here, with 0 generic parameters",
                "   --> /home/runner/.cargo/registry/src/index.crates.io-6f17d22bba15001f/generic-array-1.0.0/src/lib.rs:177:18",
                "    |",
                "177 | pub unsafe trait ArrayLength: Unsigned + 'static {",
                "    |                  ^^^^^^^^^^^",
                "help: replace the generic bound with the associated type",
                "    |",
                "73  |     fn split_blocks<N: ArrayLength<ArrayType = u8>>(data: &[u8]) -> (&[GenericArray<u8, N>], &[u8]) {",
                "    |                                    +++++++++++",
                "For more information about this error, try `rustc --explain E0107`.",
                "error: could not compile `block-buffer` (lib) due to 5 previous errors",
                "warning: build failed, waiting for other jobs to finish...",
                "error: could not compile `block-buffer` (lib test) due to 5 previous errors",
                "##[error]Process completed with exit code 101.",
                "Post job cleanup.",
                "Post job cleanup.",
                "[command]/usr/bin/git version",
                "git version 2.42.0",
                "Temporarily overriding HOME='/home/runner/work/_temp/338d1068-282b-4249-845b-5fb439378ba5' before making global git config changes",
                "Adding repository directory to the temporary git global config as a safe directory",
                "[command]/usr/bin/git config --global --add safe.directory /home/runner/work/utils/utils",
                "[command]/usr/bin/git config --local --name-only --get-regexp core\\.sshCommand",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'core\\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\"",
                "[command]/usr/bin/git config --local --name-only --get-regexp http\\.https\\:\\/\\/github\\.com\\/\\.extraheader",
                "http.https://github.com/.extraheader",
                "[command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader",
                "[command]/usr/bin/git submodule foreach --recursive sh -c \"git config --local --name-only --get-regexp 'http\\.https\\:\\/\\/github\\.com\\/\\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\"",
                "Cleaning up orphan processes",

        ],
    };
</script>
<script>
    function getColor(type) {
        switch (type) {
            case "updated": return "#FFF59D";
            case "added": return "#A5D6A7";
            case "deleted": return "#EF9A9A";
            case "moved_updated":
            case "moved_unchanged": return "#CE93D8";
            case "none": return "#CE93D8";
        }
    }

    let right_actions = [
            {type: "unchanged", left:0, right:0},
            {type: "added", left:-1, right:1},
            {type: "unchanged", left:2, right:2},
            {type: "unchanged", left:3, right:3},
            {type: "added", left:-1, right:4},
            {type: "added", left:-1, right:5},
            {type: "unchanged", left:6, right:6},
            {type: "unchanged", left:7, right:7},
            {type: "unchanged", left:8, right:8},
            {type: "unchanged", left:9, right:9},
            {type: "unchanged", left:10, right:10},
            {type: "unchanged", left:11, right:11},
            {type: "unchanged", left:12, right:12},
            {type: "unchanged", left:13, right:13},
            {type: "unchanged", left:14, right:14},
            {type: "unchanged", left:15, right:15},
            {type: "unchanged", left:16, right:16},
            {type: "unchanged", left:17, right:17},
            {type: "unchanged", left:18, right:18},
            {type: "unchanged", left:19, right:19},
            {type: "unchanged", left:20, right:20},
            {type: "unchanged", left:21, right:21},
            {type: "unchanged", left:22, right:22},
            {type: "unchanged", left:23, right:23},
            {type: "added", left:-1, right:24},
            {type: "unchanged", left:25, right:25},
            {type: "unchanged", left:26, right:26},
            {type: "unchanged", left:27, right:27},
            {type: "unchanged", left:28, right:28},
            {type: "unchanged", left:29, right:29},
            {type: "unchanged", left:30, right:30},
            {type: "unchanged", left:31, right:31},
            {type: "unchanged", left:32, right:32},
            {type: "unchanged", left:33, right:33},
            {type: "unchanged", left:34, right:34},
            {type: "unchanged", left:35, right:35},
            {type: "unchanged", left:36, right:36},
            {type: "unchanged", left:37, right:37},
            {type: "unchanged", left:38, right:38},
            {type: "unchanged", left:39, right:39},
            {type: "unchanged", left:40, right:40},
            {type: "unchanged", left:41, right:41},
            {type: "unchanged", left:42, right:42},
            {type: "unchanged", left:43, right:43},
            {type: "unchanged", left:44, right:44},
            {type: "unchanged", left:45, right:45},
            {type: "unchanged", left:46, right:46},
            {type: "unchanged", left:47, right:47},
            {type: "unchanged", left:48, right:48},
            {type: "unchanged", left:49, right:49},
            {type: "unchanged", left:50, right:50},
            {type: "unchanged", left:51, right:51},
            {type: "unchanged", left:52, right:52},
            {type: "unchanged", left:53, right:53},
            {type: "unchanged", left:54, right:54},
            {type: "unchanged", left:55, right:55},
            {type: "unchanged", left:56, right:56},
            {type: "unchanged", left:57, right:57},
            {type: "added", left:-1, right:58},
            {type: "unchanged", left:59, right:59},
            {type: "unchanged", left:60, right:60},
            {type: "unchanged", left:61, right:61},
            {type: "unchanged", left:62, right:62},
            {type: "unchanged", left:63, right:63},
            {type: "unchanged", left:64, right:64},
            {type: "unchanged", left:65, right:65},
            {type: "unchanged", left:66, right:66},
            {type: "unchanged", left:67, right:67},
            {type: "unchanged", left:68, right:68},
            {type: "unchanged", left:69, right:69},
            {type: "unchanged", left:70, right:70},
            {type: "unchanged", left:71, right:71},
            {type: "unchanged", left:72, right:72},
            {type: "unchanged", left:73, right:73},
            {type: "unchanged", left:74, right:74},
            {type: "unchanged", left:75, right:75},
            {type: "unchanged", left:76, right:76},
            {type: "unchanged", left:77, right:77},
            {type: "unchanged", left:78, right:78},
            {type: "unchanged", left:79, right:79},
            {type: "unchanged", left:80, right:80},
            {type: "unchanged", left:81, right:81},
            {type: "unchanged", left:82, right:82},
            {type: "unchanged", left:83, right:83},
            {type: "unchanged", left:84, right:84},
            {type: "unchanged", left:85, right:85},
            {type: "unchanged", left:86, right:86},
            {type: "unchanged", left:87, right:87},
            {type: "added", left:-1, right:88},
            {type: "unchanged", left:89, right:89},
            {type: "added", left:-1, right:90},
            {type: "unchanged", left:91, right:91},
            {type: "unchanged", left:92, right:92},
            {type: "unchanged", left:93, right:93},
            {type: "unchanged", left:94, right:94},
            {type: "added", left:-1, right:95},
            {type: "added", left:-1, right:96},
            {type: "added", left:-1, right:97},
            {type: "added", left:-1, right:98},
            {type: "added", left:-1, right:99},
            {type: "added", left:-1, right:100},
            {type: "added", left:-1, right:101},
            {type: "added", left:-1, right:102},
            {type: "added", left:-1, right:103},
            {type: "added", left:-1, right:104},
            {type: "added", left:-1, right:105},
            {type: "added", left:-1, right:106},
            {type: "unchanged", left:98, right:107},
            {type: "unchanged", left:99, right:108},
            {type: "added", left:-1, right:109},
            {type: "unchanged", left:101, right:110},
            {type: "unchanged", left:102, right:111},
            {type: "unchanged", left:103, right:112},
            {type: "unchanged", left:104, right:113},
            {type: "unchanged", left:105, right:114},
            {type: "unchanged", left:106, right:115},
            {type: "unchanged", left:107, right:116},
            {type: "unchanged", left:108, right:117},
            {type: "unchanged", left:109, right:118},
            {type: "unchanged", left:110, right:119},
            {type: "unchanged", left:111, right:120},
            {type: "unchanged", left:112, right:121},
            {type: "unchanged", left:113, right:122},
            {type: "unchanged", left:114, right:123},
            {type: "unchanged", left:115, right:124},
            {type: "unchanged", left:116, right:125},
            {type: "unchanged", left:117, right:126},
            {type: "unchanged", left:118, right:127},
            {type: "added", left:-1, right:128},
            {type: "unchanged", left:120, right:129},
            {type: "unchanged", left:121, right:130},
            {type: "unchanged", left:122, right:131},
            {type: "unchanged", left:123, right:132},
            {type: "unchanged", left:124, right:133},
            {type: "unchanged", left:125, right:134},
            {type: "unchanged", left:126, right:135},
            {type: "unchanged", left:127, right:136},
            {type: "unchanged", left:128, right:137},
            {type: "unchanged", left:129, right:138},
            {type: "unchanged", left:130, right:139},
            {type: "unchanged", left:131, right:140},
            {type: "unchanged", left:132, right:141},
            {type: "unchanged", left:133, right:142},
            {type: "unchanged", left:134, right:143},
            {type: "unchanged", left:135, right:144},
            {type: "unchanged", left:136, right:145},
            {type: "unchanged", left:137, right:146},
            {type: "unchanged", left:138, right:147},
            {type: "unchanged", left:139, right:148},
            {type: "unchanged", left:140, right:149},
            {type: "unchanged", left:141, right:150},
            {type: "unchanged", left:142, right:151},
            {type: "unchanged", left:143, right:152},
            {type: "unchanged", left:144, right:153},
            {type: "unchanged", left:145, right:154},
            {type: "unchanged", left:146, right:155},
            {type: "unchanged", left:147, right:156},
            {type: "unchanged", left:148, right:157},
            {type: "unchanged", left:149, right:158},
            {type: "unchanged", left:150, right:159},
            {type: "unchanged", left:151, right:160},
            {type: "unchanged", left:152, right:161},
            {type: "unchanged", left:153, right:162},
            {type: "unchanged", left:154, right:163},
            {type: "unchanged", left:155, right:164},
            {type: "unchanged", left:156, right:165},
            {type: "unchanged", left:157, right:166},
            {type: "unchanged", left:158, right:167},
            {type: "unchanged", left:159, right:168},
            {type: "unchanged", left:160, right:169},
            {type: "unchanged", left:161, right:170},
            {type: "unchanged", left:162, right:171},
            {type: "unchanged", left:163, right:172},
            {type: "unchanged", left:164, right:173},
            {type: "unchanged", left:165, right:174},
            {type: "unchanged", left:166, right:175},
            {type: "unchanged", left:167, right:176},
            {type: "unchanged", left:168, right:177},
            {type: "unchanged", left:169, right:178},
            {type: "unchanged", left:170, right:179},
            {type: "unchanged", left:171, right:180},
            {type: "unchanged", left:172, right:181},
            {type: "unchanged", left:173, right:182},
            {type: "unchanged", left:174, right:183},
            {type: "unchanged", left:175, right:184},
            {type: "unchanged", left:176, right:185},
            {type: "unchanged", left:177, right:186},
            {type: "unchanged", left:178, right:187},
            {type: "unchanged", left:179, right:188},
            {type: "unchanged", left:180, right:189},
            {type: "unchanged", left:181, right:190},
            {type: "unchanged", left:182, right:191},
            {type: "unchanged", left:183, right:192},
            {type: "unchanged", left:184, right:193},
            {type: "unchanged", left:185, right:194},
            {type: "unchanged", left:186, right:195},
            {type: "unchanged", left:187, right:196},
            {type: "unchanged", left:188, right:197},
            {type: "unchanged", left:189, right:198},
            {type: "unchanged", left:190, right:199},
            {type: "unchanged", left:191, right:200},
            {type: "unchanged", left:192, right:201},
            {type: "unchanged", left:193, right:202},
            {type: "unchanged", left:194, right:203},
            {type: "unchanged", left:195, right:204},
            {type: "unchanged", left:196, right:205},
            {type: "unchanged", left:197, right:206},
            {type: "unchanged", left:198, right:207},
            {type: "unchanged", left:199, right:208},
            {type: "unchanged", left:200, right:209},
            {type: "unchanged", left:201, right:210},
            {type: "unchanged", left:202, right:211},
            {type: "unchanged", left:203, right:212},
            {type: "unchanged", left:204, right:213},
            {type: "unchanged", left:205, right:214},
            {type: "unchanged", left:206, right:215},
            {type: "unchanged", left:207, right:216},
            {type: "unchanged", left:208, right:217},
            {type: "unchanged", left:209, right:218},
            {type: "unchanged", left:210, right:219},
            {type: "unchanged", left:211, right:220},
            {type: "unchanged", left:212, right:221},
            {type: "unchanged", left:213, right:222},
            {type: "unchanged", left:214, right:223},
            {type: "unchanged", left:215, right:224},
            {type: "unchanged", left:216, right:225},
            {type: "unchanged", left:217, right:226},
            {type: "unchanged", left:218, right:227},
            {type: "unchanged", left:219, right:228},
            {type: "unchanged", left:220, right:229},
            {type: "unchanged", left:221, right:230},
            {type: "unchanged", left:222, right:231},
            {type: "unchanged", left:223, right:232},
            {type: "unchanged", left:224, right:233},
            {type: "unchanged", left:225, right:234},
            {type: "unchanged", left:226, right:235},
            {type: "unchanged", left:227, right:236},
            {type: "unchanged", left:228, right:237},
            {type: "unchanged", left:229, right:238},
            {type: "unchanged", left:230, right:239},
            {type: "unchanged", left:231, right:240},
            {type: "unchanged", left:232, right:241},
            {type: "unchanged", left:233, right:242},
            {type: "unchanged", left:234, right:243},
            {type: "unchanged", left:235, right:244},
            {type: "unchanged", left:236, right:245},
            {type: "unchanged", left:237, right:246},
            {type: "unchanged", left:238, right:247},
            {type: "unchanged", left:239, right:248},
            {type: "unchanged", left:240, right:249},
            {type: "unchanged", left:241, right:250},
            {type: "unchanged", left:242, right:251},
            {type: "unchanged", left:243, right:252},
            {type: "unchanged", left:244, right:253},
            {type: "unchanged", left:245, right:254},
            {type: "unchanged", left:246, right:255},
            {type: "unchanged", left:247, right:256},
            {type: "unchanged", left:248, right:257},
            {type: "unchanged", left:249, right:258},
            {type: "unchanged", left:250, right:259},
            {type: "unchanged", left:251, right:260},
            {type: "unchanged", left:252, right:261},
            {type: "unchanged", left:253, right:262},
            {type: "unchanged", left:254, right:263},
            {type: "unchanged", left:255, right:264},
            {type: "unchanged", left:256, right:265},
            {type: "unchanged", left:257, right:266},
            {type: "unchanged", left:258, right:267},
            {type: "unchanged", left:259, right:268},
            {type: "unchanged", left:260, right:269},
            {type: "unchanged", left:261, right:270},
            {type: "unchanged", left:262, right:271},
            {type: "unchanged", left:263, right:272},
            {type: "unchanged", left:264, right:273},
            {type: "unchanged", left:265, right:274},
            {type: "unchanged", left:266, right:275},
            {type: "unchanged", left:267, right:276},
            {type: "unchanged", left:268, right:277},
            {type: "unchanged", left:269, right:278},
            {type: "unchanged", left:270, right:279},
            {type: "unchanged", left:271, right:280},
            {type: "unchanged", left:272, right:281},
            {type: "unchanged", left:273, right:282},
            {type: "unchanged", left:274, right:283},
            {type: "unchanged", left:275, right:284},
            {type: "unchanged", left:276, right:285},
            {type: "unchanged", left:277, right:286},
            {type: "unchanged", left:278, right:287},
            {type: "unchanged", left:279, right:288},
            {type: "unchanged", left:280, right:289},
            {type: "unchanged", left:281, right:290},
            {type: "unchanged", left:282, right:291},
            {type: "added", left:-1, right:292},
            {type: "unchanged", left:283, right:293},
            {type: "unchanged", left:284, right:294},
            {type: "added", left:-1, right:295},
            {type: "unchanged", left:285, right:296},
            {type: "unchanged", left:287, right:297},
            {type: "unchanged", left:288, right:298},
            {type: "added", left:-1, right:299},
            {type: "unchanged", left:289, right:300},
            {type: "unchanged", left:290, right:301},
            {type: "added", left:-1, right:302},
            {type: "added", left:-1, right:303},
            {type: "added", left:-1, right:304},
            {type: "added", left:-1, right:305},
            {type: "added", left:-1, right:306},
            {type: "added", left:-1, right:307},
            {type: "added", left:-1, right:308},
            {type: "added", left:-1, right:309},
            {type: "added", left:-1, right:310},
            {type: "added", left:-1, right:311},
            {type: "added", left:-1, right:312},
            {type: "added", left:-1, right:313},
            {type: "added", left:-1, right:314},
            {type: "added", left:-1, right:315},
            {type: "added", left:-1, right:316},
            {type: "added", left:-1, right:317},
            {type: "added", left:-1, right:318},
            {type: "added", left:-1, right:319},
            {type: "added", left:-1, right:320},
            {type: "added", left:-1, right:321},
            {type: "added", left:-1, right:322},
            {type: "added", left:-1, right:323},
            {type: "added", left:-1, right:324},
            {type: "added", left:-1, right:325},
            {type: "added", left:-1, right:326},
            {type: "added", left:-1, right:327},
            {type: "added", left:-1, right:328},
            {type: "added", left:-1, right:329},
            {type: "added", left:-1, right:330},
            {type: "added", left:-1, right:331},
            {type: "added", left:-1, right:332},
            {type: "added", left:-1, right:333},
            {type: "added", left:-1, right:334},
            {type: "added", left:-1, right:335},
            {type: "added", left:-1, right:336},
            {type: "added", left:-1, right:337},
            {type: "added", left:-1, right:338},
            {type: "added", left:-1, right:339},
            {type: "added", left:-1, right:340},
            {type: "added", left:-1, right:341},
            {type: "added", left:-1, right:342},
            {type: "added", left:-1, right:343},
            {type: "added", left:-1, right:344},
            {type: "added", left:-1, right:345},
            {type: "added", left:-1, right:346},
            {type: "added", left:-1, right:347},
            {type: "added", left:-1, right:348},
            {type: "added", left:-1, right:349},
            {type: "added", left:-1, right:350},
            {type: "added", left:-1, right:351},
            {type: "added", left:-1, right:352},
            {type: "added", left:-1, right:353},
            {type: "added", left:-1, right:354},
            {type: "added", left:-1, right:355},
            {type: "added", left:-1, right:356},
            {type: "added", left:-1, right:357},
            {type: "added", left:-1, right:358},
            {type: "added", left:-1, right:359},
            {type: "added", left:-1, right:360},
            {type: "added", left:-1, right:361},
            {type: "added", left:-1, right:362},
            {type: "added", left:-1, right:363},
            {type: "added", left:-1, right:364},
            {type: "added", left:-1, right:365},
            {type: "added", left:-1, right:366},
            {type: "added", left:-1, right:367},
            {type: "added", left:-1, right:368},
            {type: "added", left:-1, right:369},
            {type: "added", left:-1, right:370},
            {type: "added", left:-1, right:371},
            {type: "added", left:-1, right:372},
            {type: "added", left:-1, right:373},
            {type: "added", left:-1, right:374},
            {type: "added", left:-1, right:375},
            {type: "added", left:-1, right:376},
            {type: "added", left:-1, right:377},
            {type: "added", left:-1, right:378},
            {type: "added", left:-1, right:379},
            {type: "added", left:-1, right:380},
            {type: "added", left:-1, right:381},
            {type: "unchanged", left:336, right:382},
            {type: "unchanged", left:338, right:383},
            {type: "unchanged", left:339, right:384},
            {type: "unchanged", left:340, right:385},
            {type: "added", left:-1, right:386},
            {type: "unchanged", left:342, right:387},
            {type: "unchanged", left:343, right:388},
            {type: "unchanged", left:344, right:389},
            {type: "unchanged", left:345, right:390},
            {type: "unchanged", left:346, right:391},
            {type: "unchanged", left:347, right:392},
            {type: "unchanged", left:348, right:393},
            {type: "unchanged", left:349, right:394},
            {type: "unchanged", left:350, right:395},
    ]

	// setup the folds between the "added" hunks
	let folds = [];
	for (let i = 1; i < right_actions.length; ++i) {
		if (right_actions[i-1].type != "added" && right_actions[i].type == "added") {
			let j = 1;
			while (i-j >= 0 && right_actions[i-j].type != "added") { ++j; }
			if (j > 6) {  // we keep a window of 3 lines arounds the "added" hunks
				folds.push({start: i-j+5, end: i-3});
			}
		}
	}
	// in case there is non "added" lines after the last added line
	let last_green = right_actions.length - 1;
	while (right_actions[last_green].type != "added") { --last_green; }
	if (last_green < right_actions.length - 4) {
		folds.push({start: last_green + 5, end: right_actions.length});
	}

    require.config({paths: {'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.46.0/min/vs'}});
    require(['vs/editor/editor.main'], function () {
        monaco.languages.register({
            id: "cidiff",
        })

        monaco.languages.registerFoldingRangeProvider("cidiff", {
            provideFoldingRanges: (model, context, token) => folds
        })
        let rightEditor = monaco.editor.create(document.getElementById('right'), {
            value: ciDiff.right.join('\n'),
            minimap: {enabled: false},
            readOnly: true,
            scrollBeyondLastLine: false,
            language: "cidiff",
            automaticLayout: true,
            //wordWrap: "on"
        });
        rightEditor.trigger('fold', 'editor.foldAll')

        function ranges(l, r, type) {
            let sl = ciDiff.left[l].split(/\s/);
            let sr = ciDiff.right[r].split(/\s/);
            let x = 0;
            let j = 0;
            let arr = [];
            for (let i = 0; i < sl.length; ++i) {
                if (sl[i] == "") {
                    ++x;
                    continue;
                }
                if (sr[j] == "") {
                    --i;
                    ++j;
                    continue;
                }
                if (sl[i] != sr[j]) {
                    arr.push({
                        range: new monaco.Range(r + 1, x + 1, r + 1, x + 1 + sl[i].length),
                        options: {isWholeLine: false, className: type, overviewRuler: {color: getColor(type)}}
                    });
                }
                x += sl[i].length + 1;
                ++j;
            }
            return arr;
        }

        function mapToDecorations(actions) {
            return actions.flatMap((a, i) => {
                let arr = []
                if (a.type == "unchanged") {
                    return arr;
                }
                if (a.type.includes("updated")) {
                    if (a.type == "moved_updated") {
                        arr.push({
                            range: new monaco.Range(i + 1, 1, i + 1, 1),
                            options: {isWholeLine: true, className: a.type, overviewRuler: {color: getColor(a.type)}}
                        });
                    }
                    //let tmp = ranges(i, left_actions[i].line-1, a.type);
                    //console.log(i, left_actions[i].line-1, tmp);
                    arr.push(...ranges(actions[i].left - 1, actions[i].right - 1, a.type));
                } else {
                    arr.push({
                        range: new monaco.Range(i + 1, 1, i + 1, 1),
                        options: {isWholeLine: true, className: a.type, overviewRuler: {color: getColor(a.type)}}
                    });
                }
                return arr;
            })
        }

        let rightDecorations = rightEditor.createDecorationsCollection(mapToDecorations(right_actions));

    });
</script>
</body>

</html>
